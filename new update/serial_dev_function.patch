From 49680acbc647621ef5cd7fd8c5c64f1d55daec70 Mon Sep 17 00:00:00 2001
From: Mathanraj <mathan.raj@seco.com>
Date: Thu, 13 Jul 2017 12:10:03 +0530
Subject: [PATCH] Serial device function added in common Header file

---
 include/configs/mx6seco_common.h | 15 +++++++++++----
 1 file changed, 11 insertions(+), 4 deletions(-)
 mode change 100644 => 100755 include/configs/mx6seco_common.h

diff --git a/include/configs/mx6seco_common.h b/include/configs/mx6seco_common.h
old mode 100644
new mode 100755
index 66bb3fc..a01342f
--- a/include/configs/mx6seco_common.h
+++ b/include/configs/mx6seco_common.h
@@ -423,15 +423,22 @@
 #define CONFIG_ROOT_DEV_ID       2
 #define CONFIG_ROOT_PARTITION    2
 
-#define CONFIG_BOOTARGS_BASE  "setenv bootargs ${console_interface} ${memory} ${cpu_freq} ${videomode} ${root_dev}"
-
+#define CONFIG_BOOTARGS_BASE  "setenv bootargs ${console_interface} ${memory} ${cpu_freq} ${videomode} ${root_dev} ${serial_dev}"
 
+#if defined CONFIG_TARGET_MX6SECO_Q7_928 || CONFIG_TARGET_MX6SECO_UQ7_962 || CONFIG_TARGET_MX6SECO_UQ7_J_A75
 #define CONFIG_ENV_COMMON                                        \
 	"bootdelay="__stringify(CONFIG_BOOTDELAY)"\0"            \
 	"stdin=serial\0"                                         \
 	"stdout=serial\0"                                        \
-	"stderr=serial\0"
-
+	"stderr=serial\0"					 \
+	"serial_dev=serial_dev=uart\0"
+#else
+#define CONFIG_ENV_COMMON                                        \
+	"bootdelay="__stringify(CONFIG_BOOTDELAY)"\0"            \
+	"stdin=serial\0"                                         \
+	"stdout=serial\0"                                        \
+	"stderr=serial\0"			
+#endif
 
 #define CONFIG_ENV_BOOTARG_BASE                                                                               \
 	"console_interface='console=" CONFIG_CONSOLE_DEV "," __stringify(CONFIG_BAUDRATE)"'\0"                \
-- 
2.0.4

